(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,K=Object.getOwnPropertyNames,X=Object.prototype.hasOwnProperty,z=(e,t)=>{for(var a in t)w(e,a,{get:t[a],enumerable:!0})},J=(e,t,a,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of K(t))!X.call(e,n)&&n!==a&&w(e,n,{get:()=>t[n],enumerable:!(s=Y(t,n))||s.enumerable});return e},Q=e=>J(w({},"__esModule",{value:!0}),e),R={};z(R,{getCharacter:()=>ce,getCharacters:()=>se,getEndpoints:()=>pe,getEpisode:()=>fe,getEpisodes:()=>de,getLocation:()=>ue,getLocations:()=>le});var Z=Q(R),ee={required:"You are using an invalid argument. As an argument use an integer (Id) or an array of integers (Ids).",optional:"You are using an invalid argument. As an argument use a filter object or leave it blank."},F=e=>typeof e=="number"&&Number.isInteger(e),te=e=>Array.isArray(e)&&e.every(F),ne=(e,t)=>{if(t&&F(e))return`/${e}`;if(t&&te(e)){let a=e;return`/${a.length?a:"[0]"}`}if(!t&&typeof e=="object"&&!Array.isArray(e))return`/?${new URLSearchParams(e).toString()}`;throw new Error(ee[t?"required":"optional"])},re=ne,ae=async e=>{let t=await fetch(`https://rickandmortyapi.com/api/${e}`);return t.ok?{data:await t.json(),status:t.status,statusMessage:t.statusText}:{data:{},status:t.status,statusMessage:t.statusText}},ie=ae,oe=async({endpoint:e,options:t,isIdRequired:a=!1})=>{let s=re(t,a);return ie(`${e}/${s}`)},m=oe,N="character",se=e=>m({endpoint:N,options:e??{}}),ce=e=>m({endpoint:N,options:e,isIdRequired:!0}),B="location",le=e=>m({endpoint:B,options:e??{}}),ue=e=>m({endpoint:B,options:e,isIdRequired:!0}),W="episode",de=e=>m({endpoint:W,options:e??{}}),fe=e=>m({endpoint:W,options:e,isIdRequired:!0}),pe=()=>m({endpoint:"",options:{}}),me="Expected a function",P=0/0,ge="[object Symbol]",ye=/^\s+|\s+$/g,ve=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,be=/^0o[0-7]+$/i,Ie=parseInt,Se=typeof S=="object"&&S&&S.Object===Object&&S,Oe=typeof self=="object"&&self&&self.Object===Object&&self,Ee=Se||Oe||Function("return this")(),Le=Object.prototype,Te=Le.toString,je=Math.max,Me=Math.min,j=function(){return Ee.Date.now()};function qe(e,t,a){var s,n,i,u,c,d,g=0,x=!1,y=!1,E=!0;if(typeof e!="function")throw new TypeError(me);t=k(t)||0,M(a)&&(x=!!a.leading,y="maxWait"in a,i=y?je(k(a.maxWait)||0,t):i,E="trailing"in a?!!a.trailing:E);function L(o){var f=s,v=n;return s=n=void 0,g=o,u=e.apply(v,f),u}function D(o){return g=o,c=setTimeout(I,t),x?L(o):u}function G(o){var f=o-d,v=o-g,A=t-f;return y?Me(A,i-v):A}function C(o){var f=o-d,v=o-g;return d===void 0||f>=t||f<0||y&&v>=i}function I(){var o=j();if(C(o))return $(o);c=setTimeout(I,G(o))}function $(o){return c=void 0,E&&s?L(o):(s=n=void 0,u)}function U(){c!==void 0&&clearTimeout(c),g=0,s=d=n=c=void 0}function V(){return c===void 0?u:$(j())}function T(){var o=j(),f=C(o);if(s=arguments,n=this,d=o,f){if(c===void 0)return D(d);if(y)return c=setTimeout(I,t),L(d)}return c===void 0&&(c=setTimeout(I,t)),u}return T.cancel=U,T.flush=V,T}function M(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function we(e){return!!e&&typeof e=="object"}function xe(e){return typeof e=="symbol"||we(e)&&Te.call(e)==ge}function k(e){if(typeof e=="number")return e;if(xe(e))return P;if(M(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=M(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(ye,"");var a=he.test(e);return a||be.test(e)?Ie(e.slice(2),a?2:8):ve.test(e)?P:+e}var Ce=qe;const r={gallery:document.querySelector(".gallery"),input:document.querySelector(".characters-search"),status:document.querySelector("#status-select"),species:document.querySelector("#species-select"),type:document.querySelector("#type-select"),gender:document.querySelector("#gender-select"),loadMoreBtn:document.querySelector(".load-more-btn"),charactersSearchForm:document.querySelector(".header-form"),charactersSearchInput:document.querySelector(".header-input")};let b=1,q=window.innerWidth>=1440?20:10,_=0,p=[];const l={status:"all",species:"all",type:"all",gender:"all"},h=Ce(async()=>{b=1,p=[],r.gallery.innerHTML="",l.status=r.status.value,l.species=r.species.value,l.type=r.type.value,l.gender=r.gender.value,await H()},300);async function H(){const e=await Z.getCharacters({name:r.input.value,status:l.status==="all"?"":l.status,species:l.species==="all"?"":l.species,type:l.type==="all"?"":l.type,gender:l.gender==="all"?"":l.gender,page:b});e.data&&Array.isArray(e.data.results)?(p.push(...e.data.results),_=e.data.info.count,O(r.status,p,l.status,"status"),O(r.species,p,l.species,"species"),O(r.type,p,l.type,"type"),O(r.gender,p,l.gender,"gender"),Ae()):console.log("Invalid API response:",e)}function O(e,t,a,s){const n=e.value;e.innerHTML="";const i=document.createElement("option");i.value="all",i.textContent="All",e.appendChild(i),[...new Set(t.map(c=>c[s]))].forEach(c=>{if(c){const d=document.createElement("option");d.value=c,d.textContent=c,e.appendChild(d)}}),e.querySelector(`option[value="${n}"]`)?e.value=n:e.value=a,l[e.id]=e.value}function $e(e){e.preventDefault();const t=r.charactersSearchInput.value;r.input.value=t,h()}function Ae(){const e=(b-1)*q,t=e+q;p.slice(e,t).forEach(s=>{const n=Pe(s);r.gallery.appendChild(n)}),ke()}function Pe(e){const t=document.createElement("li");return t.className="gallery-card",t.innerHTML=`
    <img src="${e.image}" alt="${e.name}" class="card-img" />
       <div class="card-info">
      <p class="card-name">${e.name}</p>
      <p class="card-origin-title">
       Origin: <span class="card-origin-info">${e.origin.name}</span>
      </p>
      <p class="card-location-title">
       Location: <span class="card-location-info">${e.location.name}</span>
      </p>
    </div>
  `,t}function ke(){const e=b*q<_;r.loadMoreBtn.style.display=e?"block":"none"}async function Re(){b+=1,await H()}r.charactersSearchForm&&r.input&&r.status&&r.species&&r.type&&r.loadMoreBtn&&(r.charactersSearchForm.addEventListener("submit",$e),r.input.addEventListener("input",h),r.status.addEventListener("change",h),r.species.addEventListener("change",h),r.type.addEventListener("change",h),r.loadMoreBtn.addEventListener("click",Re));
