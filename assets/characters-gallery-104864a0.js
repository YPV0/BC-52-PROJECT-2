(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const g=document.querySelector("#default-img");document.querySelector("#morty-img");document.querySelector("#summer-img");const K=document.querySelectorAll(".main-link");K.forEach(e=>{e.addEventListener("mouseenter",function(){const t=this.getAttribute("data-img"),n=document.querySelector(`#${t}`);n.classList.add("img-shown","img-transition"),n.classList.remove("img-hidden","img-transition"),n!==g&&(g.classList.remove("img-shown","img-transition"),g.classList.add("img-hidden","img-transition"))}),e.addEventListener("mouseleave",function(){const t=this.getAttribute("data-img"),n=document.querySelector(`#${t}`);n.classList.remove("img-shown","img-transition"),n.classList.add("img-hidden","img-transition"),n!==g&&n!==null&&(g.classList.remove("img-hidden","img-transition"),g.classList.add("img-shown","img-transition"))})});var I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A=Object.defineProperty,X=Object.getOwnPropertyDescriptor,z=Object.getOwnPropertyNames,J=Object.prototype.hasOwnProperty,Q=(e,t)=>{for(var n in t)A(e,n,{get:t[n],enumerable:!0})},Z=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of z(t))!J.call(e,r)&&r!==n&&A(e,r,{get:()=>t[r],enumerable:!(s=X(t,r))||s.enumerable});return e},ee=e=>Z(A({},"__esModule",{value:!0}),e),F={};Q(F,{getCharacter:()=>ue,getCharacters:()=>le,getEndpoints:()=>ge,getEpisode:()=>pe,getEpisodes:()=>me,getLocation:()=>fe,getLocations:()=>de});var te=ee(F),ne={required:"You are using an invalid argument. As an argument use an integer (Id) or an array of integers (Ids).",optional:"You are using an invalid argument. As an argument use a filter object or leave it blank."},N=e=>typeof e=="number"&&Number.isInteger(e),re=e=>Array.isArray(e)&&e.every(N),ie=(e,t)=>{if(t&&N(e))return`/${e}`;if(t&&re(e)){let n=e;return`/${n.length?n:"[0]"}`}if(!t&&typeof e=="object"&&!Array.isArray(e))return`/?${new URLSearchParams(e).toString()}`;throw new Error(ne[t?"required":"optional"])},ae=ie,oe=async e=>{let t=await fetch(`https://rickandmortyapi.com/api/${e}`);return t.ok?{data:await t.json(),status:t.status,statusMessage:t.statusText}:{data:{},status:t.status,statusMessage:t.statusText}},se=oe,ce=async({endpoint:e,options:t,isIdRequired:n=!1})=>{let s=ae(t,n);return se(`${e}/${s}`)},p=ce,B="character",le=e=>p({endpoint:B,options:e??{}}),ue=e=>p({endpoint:B,options:e,isIdRequired:!0}),W="location",de=e=>p({endpoint:W,options:e??{}}),fe=e=>p({endpoint:W,options:e,isIdRequired:!0}),_="episode",me=e=>p({endpoint:_,options:e??{}}),pe=e=>p({endpoint:_,options:e,isIdRequired:!0}),ge=()=>p({endpoint:"",options:{}}),ye="Expected a function",P=0/0,he="[object Symbol]",ve=/^\s+|\s+$/g,be=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,Le=/^0o[0-7]+$/i,Ie=parseInt,Ee=typeof I=="object"&&I&&I.Object===Object&&I,Oe=typeof self=="object"&&self&&self.Object===Object&&self,Te=Ee||Oe||Function("return this")(),je=Object.prototype,qe=je.toString,we=Math.max,$e=Math.min,q=function(){return Te.Date.now()};function Ae(e,t,n){var s,r,a,u,c,d,y=0,M=!1,h=!1,O=!0;if(typeof e!="function")throw new TypeError(ye);t=R(t)||0,w(n)&&(M=!!n.leading,h="maxWait"in n,a=h?we(R(n.maxWait)||0,t):a,O="trailing"in n?!!n.trailing:O);function T(o){var f=s,v=r;return s=r=void 0,y=o,u=e.apply(v,f),u}function G(o){return y=o,c=setTimeout(L,t),M?T(o):u}function U(o){var f=o-d,v=o-y,k=t-f;return h?$e(k,a-v):k}function x(o){var f=o-d,v=o-y;return d===void 0||f>=t||f<0||h&&v>=a}function L(){var o=q();if(x(o))return C(o);c=setTimeout(L,U(o))}function C(o){return c=void 0,O&&s?T(o):(s=r=void 0,u)}function V(){c!==void 0&&clearTimeout(c),y=0,s=d=r=c=void 0}function Y(){return c===void 0?u:C(q())}function j(){var o=q(),f=x(o);if(s=arguments,r=this,d=o,f){if(c===void 0)return G(d);if(h)return c=setTimeout(L,t),T(d)}return c===void 0&&(c=setTimeout(L,t)),u}return j.cancel=V,j.flush=Y,j}function w(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Me(e){return!!e&&typeof e=="object"}function xe(e){return typeof e=="symbol"||Me(e)&&qe.call(e)==he}function R(e){if(typeof e=="number")return e;if(xe(e))return P;if(w(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=w(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(ve,"");var n=Se.test(e);return n||Le.test(e)?Ie(e.slice(2),n?2:8):be.test(e)?P:+e}var Ce=Ae;const i={gallery:document.querySelector(".gallery"),input:document.querySelector(".characters-search"),status:document.querySelector("#status-select"),species:document.querySelector("#species-select"),type:document.querySelector("#type-select"),gender:document.querySelector("#gender-select"),loadMoreBtn:document.querySelector(".load-more-btn"),charactersSearchForm:document.querySelector(".header-form"),charactersSearchInput:document.querySelector(".header-input")};let S=1,$=window.innerWidth>=1440?20:10,H=0,m=[];const l={status:"all",species:"all",type:"all",gender:"all"},b=Ce(async()=>{S=1,m=[],i.gallery.innerHTML="",l.status=i.status.value,l.species=i.species.value,l.type=i.type.value,l.gender=i.gender.value,await D()},300);async function D(){const e=await te.getCharacters({name:i.input.value,status:l.status==="all"?"":l.status,species:l.species==="all"?"":l.species,type:l.type==="all"?"":l.type,gender:l.gender==="all"?"":l.gender,page:S});e.data&&Array.isArray(e.data.results)?(m.push(...e.data.results),H=e.data.info.count,E(i.status,m,l.status,"status"),E(i.species,m,l.species,"species"),E(i.type,m,l.type,"type"),E(i.gender,m,l.gender,"gender"),Pe()):console.log("Invalid API response:",e)}function E(e,t,n,s){const r=e.value;e.innerHTML="";const a=document.createElement("option");a.value="all",a.textContent="All",e.appendChild(a),[...new Set(t.map(c=>c[s]))].forEach(c=>{if(c){const d=document.createElement("option");d.value=c,d.textContent=c,e.appendChild(d)}}),e.querySelector(`option[value="${r}"]`)?e.value=r:e.value=n,l[e.id]=e.value}function ke(e){e.preventDefault();const t=i.charactersSearchInput.value;i.input.value=t,b()}function Pe(){const e=(S-1)*$,t=e+$;m.slice(e,t).forEach(s=>{const r=Re(s);i.gallery.appendChild(r)}),Fe()}function Re(e){const t=document.createElement("li");return t.className="gallery-card",t.innerHTML=`
    <img src="${e.image}" alt="${e.name}" class="card-img" />
       <div class="card-info">
      <p class="card-name">${e.name}</p>
      <p class="card-origin-title">
       Origin: <span class="card-origin-info">${e.origin.name}</span>
      </p>
      <p class="card-location-title">
       Location: <span class="card-location-info">${e.location.name}</span>
      </p>
    </div>
  `,t}function Fe(){const e=S*$<H;i.loadMoreBtn.style.display=e?"block":"none"}async function Ne(){S+=1,await D()}i.charactersSearchForm&&i.input&&i.status&&i.species&&i.type&&i.loadMoreBtn&&(i.charactersSearchForm.addEventListener("submit",ke),i.input.addEventListener("input",b),i.status.addEventListener("change",b),i.species.addEventListener("change",b),i.type.addEventListener("change",b),i.loadMoreBtn.addEventListener("click",Ne));
